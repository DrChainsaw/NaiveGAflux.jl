<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Fitness Functions · NaiveGAflux</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">NaiveGAflux</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../examples/quicktutorial/">Quick Tutorial</a></li><li><span class="tocitem">AutoFlux</span><ul><li><a class="tocitem" href="../../autoflux/">AutoFlux</a></li><li><a class="tocitem" href="../../autoflux/reference/reference/">AutoFlux API Reference</a></li></ul></li><li><span class="tocitem">Components</span><ul><li><a class="tocitem" href="../../examples/searchspace/">Search Spaces</a></li><li><a class="tocitem" href="../../examples/mutation/">Mutation Operations</a></li><li><a class="tocitem" href="../../examples/crossover/">Crossover Operations</a></li><li><a class="tocitem" href="../../examples/fitness/">Fitness Functions</a></li><li><a class="tocitem" href="../../examples/candidate/">Candidate Utilities</a></li><li><a class="tocitem" href="../../examples/evolution/">Evolution Strategies</a></li><li><a class="tocitem" href="../../examples/iteratormaps/">Iterator Maps</a></li><li><a class="tocitem" href="../../examples/iterators/">Iterators</a></li></ul></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../searchspace/">Search Spaces</a></li><li><a class="tocitem" href="../mutation/">Mutation Operations</a></li><li><a class="tocitem" href="../crossover/">Crossover Operations</a></li><li class="is-active"><a class="tocitem" href>Fitness Functions</a></li><li><a class="tocitem" href="../candidate/">Candidate Utilities</a></li><li><a class="tocitem" href="../evolution/">Evolution Strategies</a></li><li><a class="tocitem" href="../batchsize/">Batch Size Utilities</a></li><li><a class="tocitem" href="../iteratormaps/">Iterator Maps</a></li><li><a class="tocitem" href="../iterators/">Iterators</a></li><li><a class="tocitem" href="../utils/">Misc. Utilities</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API Reference</a></li><li class="is-active"><a href>Fitness Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Fitness Functions</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/DrChainsaw/NaiveGAflux.jl/blob/master/docs/src/reference/fitness.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="FitnessFunctionsAPI"><a class="docs-heading-anchor" href="#FitnessFunctionsAPI">Fitness Functions</a><a id="FitnessFunctionsAPI-1"></a><a class="docs-heading-anchor-permalink" href="#FitnessFunctionsAPI" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="NaiveGAflux.fitness" href="#NaiveGAflux.fitness"><code>NaiveGAflux.fitness</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">fitness(f::AbstractFitness, c::AbstractCandidate)</code></pre><p>Compute the fitness metric <code>f</code> for candidate <code>c</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveGAflux.jl/blob/673d688fe9072d08b05f0f805547b2fb7ac13297/src/fitness.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NaiveGAflux.AccuracyFitness" href="#NaiveGAflux.AccuracyFitness"><code>NaiveGAflux.AccuracyFitness</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AccuracyFitness &lt;: AbstractFitness
AccuracyFitness(dataset)</code></pre><p>Measure fitness as the accuracy on a dataset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveGAflux.jl/blob/673d688fe9072d08b05f0f805547b2fb7ac13297/src/fitness.jl#L108-L113">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NaiveGAflux.TrainThenFitness" href="#NaiveGAflux.TrainThenFitness"><code>NaiveGAflux.TrainThenFitness</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TrainThenFitness{I,L,O,F} &lt;: AbstractFitness
TrainThenFitness(;dataiter, defaultloss, defaultopt, fitstrat, invalidfitness=0.0)</code></pre><p>Measure fitness using <code>fitstrat</code> after training the model using <code>dataiter</code>.</p><p>Loss function and optimizer may be provided by the candidate if <code>lossfun(c; defaultloss)</code>  and <code>opt(c; defaultopt)</code> are implemented, otherwise <code>defaultloss</code> and <code>defaultopt</code> will  be used.</p><p>The data used for training is the result of <code>itergeneration(dataiter, gen)</code> where <code>gen</code> is the generation number. This defaults to returning <code>dataiter</code> but allows for more  complex iterators such as <a href="../iterators/#NaiveGAflux.StatefulGenerationIter"><code>StatefulGenerationIter</code></a>.</p><p>If the model loss is ever <code>NaN</code> or <code>Inf</code> the training will be stopped and <code>invalidfitness</code> will be returned without calculating the fitness using <code>fitstrat</code>. </p><p>Tip: Use <code>TimedIterator</code> to stop training of models which take too long to train.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveGAflux.jl/blob/673d688fe9072d08b05f0f805547b2fb7ac13297/src/fitness.jl#L147-L165">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NaiveGAflux.TrainAccuracyFitness" href="#NaiveGAflux.TrainAccuracyFitness"><code>NaiveGAflux.TrainAccuracyFitness</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct TrainAccuracyFitness &lt;: AbstractFitness
TrainAccuracyFitness(;drop=0.5, kwargs...)</code></pre><p>Measure fitness as the accuracy on the training data set. Beware of overfitting!</p><p>Parameter <code>drop</code> determines the fraction of examples to drop for fitness measurement. This mitigates the penalty for newly mutated candidates as the first part of the training examples are not used for fitness.</p><p>Other keyword arguments are passed to <code>TrainThenFitness</code> constructor. Note that <code>fitstrat</code> should generally be left to default value.</p><p>Advantage vs <code>AccuracyFitness</code> is that one does not have to run through another data set. Disadvantage is that evolution will likely favour candidates which overfit.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveGAflux.jl/blob/673d688fe9072d08b05f0f805547b2fb7ac13297/src/fitness.jl#L248-L260">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NaiveGAflux.SizeFitness" href="#NaiveGAflux.SizeFitness"><code>NaiveGAflux.SizeFitness</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SizeFitness &lt;: AbstractFitness
SizeFitness()</code></pre><p>Measure fitness as the total number of parameters in the function to be evaluated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveGAflux.jl/blob/673d688fe9072d08b05f0f805547b2fb7ac13297/src/fitness.jl#L325-L330">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NaiveGAflux.TimeFitness" href="#NaiveGAflux.TimeFitness"><code>NaiveGAflux.TimeFitness</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TimeFitness{T} &lt;: AbstractFitness</code></pre><p>Measure fitness as time to evaluate a function.</p><p>Time for first <code>nskip</code> evaluations will be discarded.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveGAflux.jl/blob/673d688fe9072d08b05f0f805547b2fb7ac13297/src/fitness.jl#L309-L315">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NaiveGAflux.LogFitness" href="#NaiveGAflux.LogFitness"><code>NaiveGAflux.LogFitness</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LogFitness{F, MF} &lt;: AbstractFitness
LogFitness(fitnesstrategy::AbstractFitness) = LogFitness(;fitnesstrategy)
LogFitness(;currgen=0, candcnt=0, fitnesstrategy, msgfun=default_fitnessmsgfun)</code></pre><p>Logs the fitness of <code>fitnessstrategy</code> along with some candiate information.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveGAflux.jl/blob/673d688fe9072d08b05f0f805547b2fb7ac13297/src/fitness.jl#L14-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NaiveGAflux.GpuFitness" href="#NaiveGAflux.GpuFitness"><code>NaiveGAflux.GpuFitness</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">GpuFitness{F} &lt;: AbstractFitness
GpuFitness(fitnesstrategy)</code></pre><p>Move candidates to <code>gpu</code> before calculating their fitness according to <code>fitnesstrategy</code>.</p><p>Copies parameters back to the given candidate after fitness have been computed to ensure that updated parameters from training are used.  Assumes canidates have parameters on <code>cpu</code> for that step.</p><p>Note that if no <code>gpu</code> is available this should be a noop.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveGAflux.jl/blob/673d688fe9072d08b05f0f805547b2fb7ac13297/src/fitness.jl#L56-L66">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NaiveGAflux.MapFitness" href="#NaiveGAflux.MapFitness"><code>NaiveGAflux.MapFitness</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MapFitness &lt;: AbstractFitness
MapFitness(mapping::Function, base::AbstractFitness)</code></pre><p>Maps fitness <code>x</code> from <code>base</code> to <code>mapping(x)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveGAflux.jl/blob/673d688fe9072d08b05f0f805547b2fb7ac13297/src/fitness.jl#L269-L274">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NaiveGAflux.EwmaFitness" href="#NaiveGAflux.EwmaFitness"><code>NaiveGAflux.EwmaFitness</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">EwmaFitness(base)
EwmaFitness(α, base)</code></pre><p>Computes the exponentially weighted moving average of the fitness of <code>base</code>. Assumes that candidates previous fitness metric is available through <code>fitness(cand)</code>.</p><p>Main purpose is to mitigate the effects of fitness noise.</p><p>See <code>https://github.com/DrChainsaw/NaiveGAExperiments/blob/master/fitnessnoise/experiments.ipynb</code> for some hints as to why this might be needed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveGAflux.jl/blob/673d688fe9072d08b05f0f805547b2fb7ac13297/src/fitness.jl#L282-L291">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="NaiveGAflux.AggFitness" href="#NaiveGAflux.AggFitness"><code>NaiveGAflux.AggFitness</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AggFitness &lt;: AbstractFitness
AggFitness(aggfun::Function, fitnesses::AbstractFitness...)</code></pre><p>Aggreagate fitness value from all <code>fitnesses</code> using <code>aggfun</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DrChainsaw/NaiveGAflux.jl/blob/673d688fe9072d08b05f0f805547b2fb7ac13297/src/fitness.jl#L335-L340">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../crossover/">« Crossover Operations</a><a class="docs-footer-nextpage" href="../candidate/">Candidate Utilities »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Sunday 23 July 2023 08:09">Sunday 23 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
